{"ast":null,"code":"var _jsxFileName = \"/Users/phamtrungtuyen/Projective/project_001/src/pages/Cart.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport Box from \"@mui/material/Box\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Grid from \"@mui/material/Grid\";\nimport { UPDATE_CART, DELETE_ITEM_CART } from \"../share/constants/action-types\";\nimport { order } from \"../servicers/Api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst CartPage = ({\n  history\n}) => {\n  _s();\n\n  const [inputs, setInputs] = React.useState({});\n  const dispatch = useDispatch();\n  const carts = useSelector(({\n    Cart\n  }) => {\n    // console.log(Cart);\n    return Cart.items;\n  });\n\n  const onChangeInput = (e, id) => {\n    const value = parseInt(e.target.value);\n\n    if (value <= 0) {\n      // eslint-disable-next-line no-restricted-globals\n      const isConfirm = confirm(\"Xóa sản phẩm khỏi giỏi hàng ?\");\n      return !isConfirm ? dispatch({\n        type: UPDATE_CART,\n        payload: {\n          id,\n          qty: 1\n        }\n      }) : dispatch({\n        type: DELETE_ITEM_CART,\n        payload: {\n          id\n        }\n      });\n    }\n\n    dispatch({\n      type: UPDATE_CART,\n      payload: {\n        id,\n        qty: value\n      }\n    });\n  };\n\n  const onDeleteItem = (e, id) => {\n    e.preventDefault(); // eslint-disable-next-line no-restricted-globals\n\n    const isConfirm = confirm(\"Xóa sản phẩm khỏi giỏi hàng ?\");\n    return isConfirm ? dispatch({\n      type: DELETE_ITEM_CART,\n      payload: {\n        id\n      }\n    }) : false;\n  };\n\n  const onChangeOrderInput = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setInputs({ ...inputs,\n      [name]: value\n    }); // console.log(inputs);\n  };\n\n  const onClickOrder = e => {\n    e.preventDefault();\n    const items = carts.map(item => {\n      return {\n        prd_id: item._id,\n        qty: item.qty\n      };\n    });\n    order({\n      items,\n      ...inputs\n    }).then(({\n      data\n    }) => {\n      if (data.status === \"success\") {\n        history.push(\"/success\", {\n          isOrderSuccess: true\n        });\n      } // console.log(data);\n\n    });\n  };\n\n  const onClickOn = e => {\n    e.preventDefault();\n    return alert(\"Vui long goi\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      id: \"my-cart\",\n      sx: {\n        flexGrow: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        style: {\n          marginTop: \"10\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 8,\n          children: \"Th\\xF4ng tin s\\u1EA3n ph\\u1EA9m\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 3,\n          children: \"T\\xF9y ch\\u1ECDn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 1,\n          children: \"Gi\\xE1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        method: \"post\",\n        children: [carts.map(item => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-item row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-thumb col-lg-7 col-md-7 col-sm-12\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: item === null || item === void 0 ? void 0 : item.image,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: item === null || item === void 0 ? void 0 : item.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-quantity col-lg-2 col-md-2 col-sm-12\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                id: \"quantity\",\n                className: \"form-control form-blue quantity\",\n                value: item === null || item === void 0 ? void 0 : item.qty,\n                onChange: e => onChangeInput(e, item === null || item === void 0 ? void 0 : item._id)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-price col-lg-3 col-md-3 col-sm-12\",\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: [(item === null || item === void 0 ? void 0 : item.qty) * (item === null || item === void 0 ? void 0 : item.price), \" \\u0111\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                onClick: e => onDeleteItem(e, item === null || item === void 0 ? void 0 : item._id),\n                href: true,\n                children: \"X\\xF3a\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-thumb col-lg-7 col-md-7 col-sm-12\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-total col-lg-2 col-md-2 col-sm-12\",\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"T\\u1ED5ng c\\u1ED9ng:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-price col-lg-3 col-md-3 col-sm-12\",\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: [carts === null || carts === void 0 ? void 0 : carts.reduce((total, item) => total + item.qty * item.price, 0), \"\\u0111\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"customer\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        method: \"post\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"customer-name\",\n            className: \"col-lg-4 col-md-4 col-sm-12\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"H\\u1ECD v\\xE0 t\\xEAn (b\\u1EAFt bu\\u1ED9c)\",\n              type: \"text\",\n              name: \"name\",\n              value: inputs === null || inputs === void 0 ? void 0 : inputs.name,\n              onChange: onChangeOrderInput,\n              className: \"form-control\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"customer-phone\",\n            className: \"col-lg-4 col-md-4 col-sm-12\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i (b\\u1EAFt bu\\u1ED9c)\",\n              type: \"text\",\n              name: \"phone\",\n              value: inputs === null || inputs === void 0 ? void 0 : inputs.phone,\n              onChange: onChangeOrderInput,\n              className: \"form-control\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"customer-mail\",\n            className: \"col-lg-4 col-md-4 col-sm-12\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"Email (b\\u1EAFt bu\\u1ED9c)\",\n              type: \"text\",\n              name: \"email\",\n              value: inputs === null || inputs === void 0 ? void 0 : inputs.email,\n              onChange: onChangeOrderInput,\n              className: \"form-control\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"customer-add\",\n            className: \"col-lg-12 col-md-12 col-sm-12\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"\\u0110\\u1ECBa ch\\u1EC9 nh\\xE0 ri\\xEAng ho\\u1EB7c c\\u01A1 quan (b\\u1EAFt bu\\u1ED9c)\",\n              type: \"text\",\n              name: \"address\",\n              value: inputs === null || inputs === void 0 ? void 0 : inputs.address,\n              onChange: onChangeOrderInput,\n              className: \"form-control\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"by-now col-lg-6 col-md-6 col-sm-12\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            onClick: onClickOrder,\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Mua ngay\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Giao h\\xE0ng t\\u1EADn n\\u01A1i si\\xEAu t\\u1ED1c\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"by-now col-lg-6 col-md-6 col-sm-12\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            onClick: onClickOn,\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Tr\\u1EA3 g\\xF3p Online\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Vui l\\xF2ng call (+84) 0988 550 553\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(CartPage, \"idnrVRvc/MEjBeRYTZ+oYl6f+ic=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = CartPage;\nexport default CartPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartPage\");","map":{"version":3,"sources":["/Users/phamtrungtuyen/Projective/project_001/src/pages/Cart.js"],"names":["React","Box","useSelector","useDispatch","Grid","UPDATE_CART","DELETE_ITEM_CART","order","CartPage","history","inputs","setInputs","useState","dispatch","carts","Cart","items","onChangeInput","e","id","value","parseInt","target","isConfirm","confirm","type","payload","qty","onDeleteItem","preventDefault","onChangeOrderInput","name","onClickOrder","map","item","prd_id","_id","then","data","status","push","isOrderSuccess","onClickOn","alert","flexGrow","marginTop","image","title","price","reduce","total","phone","email","address"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Box from \"@mui/material/Box\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Grid from \"@mui/material/Grid\";\n\nimport { UPDATE_CART, DELETE_ITEM_CART } from \"../share/constants/action-types\";\n\nimport { order } from \"../servicers/Api\";\n\nconst CartPage = ({ history }) => {\n  const [inputs, setInputs] = React.useState({});\n  const dispatch = useDispatch();\n  const carts = useSelector(({ Cart }) => {\n    // console.log(Cart);\n    return Cart.items;\n  });\n  const onChangeInput = (e, id) => {\n    const value = parseInt(e.target.value);\n    if (value <= 0) {\n      // eslint-disable-next-line no-restricted-globals\n      const isConfirm = confirm(\"Xóa sản phẩm khỏi giỏi hàng ?\");\n\n      return !isConfirm\n        ? dispatch({\n            type: UPDATE_CART,\n            payload: {\n              id,\n              qty: 1,\n            },\n          })\n        : dispatch({\n            type: DELETE_ITEM_CART,\n            payload: {\n              id,\n            },\n          });\n    }\n    dispatch({\n      type: UPDATE_CART,\n      payload: {\n        id,\n        qty: value,\n      },\n    });\n  };\n  const onDeleteItem = (e, id) => {\n    e.preventDefault();\n    // eslint-disable-next-line no-restricted-globals\n    const isConfirm = confirm(\"Xóa sản phẩm khỏi giỏi hàng ?\");\n    return isConfirm\n      ? dispatch({\n          type: DELETE_ITEM_CART,\n          payload: {\n            id,\n          },\n        })\n      : false;\n  };\n\n  const onChangeOrderInput = (e) => {\n    const { name, value } = e.target;\n    setInputs({\n      ...inputs,\n      [name]: value,\n    });\n    // console.log(inputs);\n  };\n  const onClickOrder = (e) => {\n    e.preventDefault();\n    const items = carts.map((item) => {\n      return { prd_id: item._id, qty: item.qty };\n    });\n    order({\n      items,\n      ...inputs,\n    }).then(({ data }) => {\n      if (data.status === \"success\") {\n        history.push(\"/success\", { isOrderSuccess: true });\n      }\n      // console.log(data);\n    });\n  };\n  const onClickOn = (e) => {\n    e.preventDefault();\n    return alert(\"Vui long goi\");\n  };\n\n  return (\n    <>\n      {/*\tCart\t*/}\n      <Box id=\"my-cart\" sx={{ flexGrow: 1 }}>\n        <Grid container spacing={2} style={{ marginTop: \"10\" }}>\n          <Grid item xs={8}>\n            Thông tin sản phẩm\n          </Grid>\n          <Grid item xs={3}>\n            Tùy chọn\n          </Grid>\n          <Grid item xs={1}>\n            Giá\n          </Grid>\n        </Grid>\n        <form method=\"post\">\n          {carts.map((item) => {\n            return (\n              <div className=\"cart-item row\">\n                <div className=\"cart-thumb col-lg-7 col-md-7 col-sm-12\">\n                  <img src={item?.image} alt=\"\" />\n                  <h3>{item?.title}</h3>\n                </div>\n                <div className=\"cart-quantity col-lg-2 col-md-2 col-sm-12\">\n                  <input\n                    type=\"number\"\n                    id=\"quantity\"\n                    className=\"form-control form-blue quantity\"\n                    value={item?.qty}\n                    onChange={(e) => onChangeInput(e, item?._id)}\n                  />\n                </div>\n                <div className=\"cart-price col-lg-3 col-md-3 col-sm-12\">\n                  <b>{item?.qty * item?.price} đ</b>\n                  <a onClick={(e) => onDeleteItem(e, item?._id)} href>\n                    Xóa\n                  </a>\n                </div>\n              </div>\n            );\n          })}\n\n          <div className=\"row\">\n            <div className=\"cart-thumb col-lg-7 col-md-7 col-sm-12\"></div>\n            <div className=\"cart-total col-lg-2 col-md-2 col-sm-12\">\n              <b>Tổng cộng:</b>\n            </div>\n            <div className=\"cart-price col-lg-3 col-md-3 col-sm-12\">\n              <b>\n                {carts?.reduce(\n                  (total, item) => total + item.qty * item.price,\n                  0\n                )}\n                đ\n              </b>\n            </div>\n          </div>\n        </form>\n      </Box>\n      {/*\tEnd Cart\t*/}\n      {/*\tCustomer Info\t*/}\n      <div id=\"customer\">\n        <form method=\"post\">\n          <div className=\"row\">\n            <div id=\"customer-name\" className=\"col-lg-4 col-md-4 col-sm-12\">\n              <input\n                placeholder=\"Họ và tên (bắt buộc)\"\n                type=\"text\"\n                name=\"name\"\n                value={inputs?.name}\n                onChange={onChangeOrderInput}\n                className=\"form-control\"\n                required\n              />\n            </div>\n            <div id=\"customer-phone\" className=\"col-lg-4 col-md-4 col-sm-12\">\n              <input\n                placeholder=\"Số điện thoại (bắt buộc)\"\n                type=\"text\"\n                name=\"phone\"\n                value={inputs?.phone}\n                onChange={onChangeOrderInput}\n                className=\"form-control\"\n                required\n              />\n            </div>\n            <div id=\"customer-mail\" className=\"col-lg-4 col-md-4 col-sm-12\">\n              <input\n                placeholder=\"Email (bắt buộc)\"\n                type=\"text\"\n                name=\"email\"\n                value={inputs?.email}\n                onChange={onChangeOrderInput}\n                className=\"form-control\"\n                required\n              />\n            </div>\n            <div id=\"customer-add\" className=\"col-lg-12 col-md-12 col-sm-12\">\n              <input\n                placeholder=\"Địa chỉ nhà riêng hoặc cơ quan (bắt buộc)\"\n                type=\"text\"\n                name=\"address\"\n                value={inputs?.address}\n                onChange={onChangeOrderInput}\n                className=\"form-control\"\n                required\n              />\n            </div>\n          </div>\n        </form>\n        <div className=\"row\">\n          <div className=\"by-now col-lg-6 col-md-6 col-sm-12\">\n            <a href=\"#\" onClick={onClickOrder}>\n              <b>Mua ngay</b>\n              <span>Giao hàng tận nơi siêu tốc</span>\n            </a>\n          </div>\n          <div className=\"by-now col-lg-6 col-md-6 col-sm-12\">\n            <a href=\"#\" onClick={onClickOn}>\n              <b>Trả góp Online</b>\n              <span>Vui lòng call (+84) 0988 550 553</span>\n            </a>\n          </div>\n        </div>\n      </div>\n      {/*\tEnd Customer Info\t*/}\n    </>\n  );\n};\n\nexport default CartPage;\n"]},"metadata":{},"sourceType":"module"}