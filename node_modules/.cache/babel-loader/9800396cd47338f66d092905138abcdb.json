{"ast":null,"code":"var _jsxFileName = \"/Users/phamtrungtuyen/Projective/project_001/src/pages/Cart.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport Box from \"@mui/material/Box\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Grid from \"@mui/material/Grid\";\nimport Input from \"@mui/material/Input\";\nimport { UPDATE_CART, DELETE_ITEM_CART } from \"../share/constants/action-types\";\nimport { order } from \"../servicers/Api\";\nimport { Button } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CartPage = ({\n  history\n}) => {\n  _s();\n\n  const [inputs, setInputs] = React.useState({});\n  const dispatch = useDispatch();\n  const carts = useSelector(({\n    Cart\n  }) => {\n    // console.log(Cart.items);\n    return Cart.items;\n  });\n\n  const onChangeInput = (e, id) => {\n    const value = parseInt(e.target.value);\n\n    if (value <= 0) {\n      // eslint-disable-next-line no-restricted-globals\n      const isConfirm = confirm(\"Xóa sản phẩm khỏi giỏi hàng ?\");\n      return !isConfirm ? dispatch({\n        type: UPDATE_CART,\n        payload: {\n          id,\n          qty: 1\n        }\n      }) : dispatch({\n        type: DELETE_ITEM_CART,\n        payload: {\n          id\n        }\n      });\n    }\n\n    dispatch({\n      type: UPDATE_CART,\n      payload: {\n        id,\n        qty: value\n      }\n    });\n  };\n\n  const onDeleteItem = (e, id) => {\n    e.preventDefault(); // eslint-disable-next-line no-restricted-globals\n\n    const isConfirm = confirm(\"Xóa sản phẩm khỏi giỏi hàng ?\");\n    return isConfirm ? dispatch({\n      type: DELETE_ITEM_CART,\n      payload: {\n        id\n      }\n    }) : false;\n  };\n\n  const onChangeOrderInput = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setInputs({ ...inputs,\n      [name]: value\n    }); // console.log(inputs);\n  };\n\n  const onClickOrder = e => {\n    e.preventDefault();\n    const items = carts.map(item => ({\n      prd_id: item._id,\n      qty: item.qty\n    }));\n    order({\n      items,\n      ...inputs\n    }).then(({\n      data\n    }) => {\n      if (data.status === \"success\") {\n        history.push(\"/success\", {\n          isOrderSuccess: true\n        });\n      }\n    });\n  };\n\n  const onClickOn = e => {\n    e.preventDefault();\n    return alert(\"Vui long goi\");\n  };\n\n  console.log(carts);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: \"15px\",\n      background: \"PapayaWhip\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      id: \"my-cart\",\n      sx: {\n        flexGrow: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        style: {\n          marginTop: \"0px\",\n          marginBottom: \"10px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 7,\n          style: {\n            color: \"yellow\"\n          },\n          children: \"Th\\xF4ng tin s\\u1EA3n ph\\u1EA9m\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 2,\n          style: {\n            color: \"yellow\"\n          },\n          children: \"S\\u1ED1 l\\u01B0\\u1EE3ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 3,\n          style: {\n            color: \"yellow\"\n          },\n          children: \"Gi\\xE1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        method: \"post\",\n        children: [carts.map(item => {\n          // console.log(item);\n          return /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: \"flex\",\n              flexWrap: \"wrap\",\n              p: 1,\n              m: 1\n            },\n            style: {\n              padding: \"0px\",\n              margin: \"0px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 2,\n              style: {\n                marginTop: \"0px\",\n                marginBottom: \"10px\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 7,\n                children: /*#__PURE__*/_jsxDEV(Grid, {\n                  container: true,\n                  spacing: 2,\n                  children: [/*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 2.5,\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: item === null || item === void 0 ? void 0 : item.image,\n                      alt: \"\",\n                      style: {\n                        width: \"40px\",\n                        height: \"50px\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 128,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 127,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 9.5,\n                    style: {\n                      padding: \"0px\",\n                      textAlign: \"top\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                      children: item === null || item === void 0 ? void 0 : item.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 139,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 134,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 2,\n                children: /*#__PURE__*/_jsxDEV(Input, {\n                  style: {\n                    width: \"100%\",\n                    background: \"gray\"\n                  },\n                  type: \"number\",\n                  id: \"quantity\",\n                  className: \"form-control form-blue quantity\",\n                  value: item === null || item === void 0 ? void 0 : item.qty,\n                  onChange: e => onChangeInput(e, item === null || item === void 0 ? void 0 : item._id)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 1.3,\n                style: {\n                  marginTop: \"10px\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: [(item === null || item === void 0 ? void 0 : item.qty) * (item === null || item === void 0 ? void 0 : item.price), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 1.7,\n                style: {\n                  textAlign: \"center\"\n                },\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"contained\",\n                  onClick: e => onDeleteItem(e, item === null || item === void 0 ? void 0 : item._id),\n                  href: \"true\" // style={{ height: \"0px\" }}\n                  ,\n                  children: \"X\\xF3a\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 17\n            }, this)\n          }, item === null || item === void 0 ? void 0 : item.title, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 15\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 9,\n            style: {\n              textAlign: \"right\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"T\\u1ED5ng c\\u1ED9ng:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 3,\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: carts === null || carts === void 0 ? void 0 : carts.reduce((total, item) => total + item.qty * item.price, 0)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"customer\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        method: \"post\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"customer-name\",\n            className: \"col-lg-4 col-md-4 col-sm-12\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"H\\u1ECD v\\xE0 t\\xEAn (b\\u1EAFt bu\\u1ED9c)\",\n              type: \"text\",\n              name: \"name\",\n              value: inputs === null || inputs === void 0 ? void 0 : inputs.name,\n              onChange: onChangeOrderInput,\n              className: \"form-control\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"customer-phone\",\n            className: \"col-lg-4 col-md-4 col-sm-12\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i (b\\u1EAFt bu\\u1ED9c)\",\n              type: \"text\",\n              name: \"phone\",\n              value: inputs === null || inputs === void 0 ? void 0 : inputs.phone,\n              onChange: onChangeOrderInput,\n              className: \"form-control\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"customer-mail\",\n            className: \"col-lg-4 col-md-4 col-sm-12\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"Email (b\\u1EAFt bu\\u1ED9c)\",\n              type: \"text\",\n              name: \"email\",\n              value: inputs === null || inputs === void 0 ? void 0 : inputs.email,\n              onChange: onChangeOrderInput,\n              className: \"form-control\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"customer-add\",\n            className: \"col-lg-12 col-md-12 col-sm-12\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"\\u0110\\u1ECBa ch\\u1EC9 nh\\xE0 ri\\xEAng ho\\u1EB7c c\\u01A1 quan (b\\u1EAFt bu\\u1ED9c)\",\n              type: \"text\",\n              name: \"address\",\n              value: inputs === null || inputs === void 0 ? void 0 : inputs.address,\n              onChange: onChangeOrderInput,\n              className: \"form-control\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"by-now col-lg-6 col-md-6 col-sm-12\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            href: \"#\",\n            onClick: onClickOrder,\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Mua ngay\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"by-now col-lg-6 col-md-6 col-sm-12\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            href: \"#\",\n            onClick: onClickOn,\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Tr\\u1EA3 g\\xF3p Online\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CartPage, \"idnrVRvc/MEjBeRYTZ+oYl6f+ic=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = CartPage;\nexport default CartPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartPage\");","map":{"version":3,"sources":["/Users/phamtrungtuyen/Projective/project_001/src/pages/Cart.js"],"names":["React","Box","useSelector","useDispatch","Grid","Input","UPDATE_CART","DELETE_ITEM_CART","order","Button","CartPage","history","inputs","setInputs","useState","dispatch","carts","Cart","items","onChangeInput","e","id","value","parseInt","target","isConfirm","confirm","type","payload","qty","onDeleteItem","preventDefault","onChangeOrderInput","name","onClickOrder","map","item","prd_id","_id","then","data","status","push","isOrderSuccess","onClickOn","alert","console","log","marginTop","background","flexGrow","marginBottom","color","display","flexWrap","p","m","padding","margin","image","width","height","textAlign","title","price","reduce","total","phone","email","address"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Box from \"@mui/material/Box\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Grid from \"@mui/material/Grid\";\nimport Input from \"@mui/material/Input\";\n\nimport { UPDATE_CART, DELETE_ITEM_CART } from \"../share/constants/action-types\";\n\nimport { order } from \"../servicers/Api\";\nimport { Button } from \"@mui/material\";\n\nconst CartPage = ({ history }) => {\n  const [inputs, setInputs] = React.useState({});\n  const dispatch = useDispatch();\n  const carts = useSelector(({ Cart }) => {\n    // console.log(Cart.items);\n    return Cart.items;\n  });\n  const onChangeInput = (e, id) => {\n    const value = parseInt(e.target.value);\n    if (value <= 0) {\n      // eslint-disable-next-line no-restricted-globals\n      const isConfirm = confirm(\"Xóa sản phẩm khỏi giỏi hàng ?\");\n\n      return !isConfirm\n        ? dispatch({\n            type: UPDATE_CART,\n            payload: {\n              id,\n              qty: 1,\n            },\n          })\n        : dispatch({\n            type: DELETE_ITEM_CART,\n            payload: {\n              id,\n            },\n          });\n    }\n    dispatch({\n      type: UPDATE_CART,\n      payload: {\n        id,\n        qty: value,\n      },\n    });\n  };\n  const onDeleteItem = (e, id) => {\n    e.preventDefault();\n    // eslint-disable-next-line no-restricted-globals\n    const isConfirm = confirm(\"Xóa sản phẩm khỏi giỏi hàng ?\");\n    return isConfirm\n      ? dispatch({\n          type: DELETE_ITEM_CART,\n          payload: {\n            id,\n          },\n        })\n      : false;\n  };\n\n  const onChangeOrderInput = (e) => {\n    const { name, value } = e.target;\n    setInputs({\n      ...inputs,\n      [name]: value,\n    });\n    // console.log(inputs);\n  };\n  const onClickOrder = (e) => {\n    e.preventDefault();\n    const items = carts.map((item) => ({ prd_id: item._id, qty: item.qty }));\n    order({\n      items,\n      ...inputs,\n    }).then(({ data }) => {\n      if (data.status === \"success\") {\n        history.push(\"/success\", { isOrderSuccess: true });\n      }\n    });\n  };\n  const onClickOn = (e) => {\n    e.preventDefault();\n    return alert(\"Vui long goi\");\n  };\n  console.log(carts);\n  return (\n    <div style={{ marginTop: \"15px\", background: \"PapayaWhip\" }}>\n      {/*\tCart\t*/}\n      <Box id=\"my-cart\" sx={{ flexGrow: 1 }}>\n        <Grid\n          container\n          spacing={2}\n          style={{ marginTop: \"0px\", marginBottom: \"10px\" }}\n        >\n          <Grid item xs={7} style={{ color: \"yellow\" }}>\n            Thông tin sản phẩm\n          </Grid>\n          <Grid item xs={2} style={{ color: \"yellow\" }}>\n            Số lượng\n          </Grid>\n          <Grid item xs={3} style={{ color: \"yellow\" }}>\n            Giá\n          </Grid>\n        </Grid>\n        <hr />\n        <br />\n        <form method=\"post\">\n          {carts.map((item) => {\n            // console.log(item);\n            return (\n              <Box\n                sx={{ display: \"flex\", flexWrap: \"wrap\", p: 1, m: 1 }}\n                key={item?.title}\n                style={{ padding: \"0px\", margin: \"0px\" }}\n              >\n                <Grid\n                  container\n                  spacing={2}\n                  style={{\n                    marginTop: \"0px\",\n                    marginBottom: \"10px\",\n                  }}\n                >\n                  <Grid item xs={7}>\n                    <Grid container spacing={2}>\n                      <Grid item xs={2.5}>\n                        <img\n                          src={item?.image}\n                          alt=\"\"\n                          style={{ width: \"40px\", height: \"50px\" }}\n                        />\n                      </Grid>\n                      <Grid\n                        item\n                        xs={9.5}\n                        style={{ padding: \"0px\", textAlign: \"top\" }}\n                      >\n                        <h5>{item?.title}</h5>\n                      </Grid>\n                    </Grid>\n                  </Grid>\n                  <Grid item xs={2}>\n                    <Input\n                      style={{ width: \"100%\", background: \"gray\" }}\n                      type=\"number\"\n                      id=\"quantity\"\n                      className=\"form-control form-blue quantity\"\n                      value={item?.qty}\n                      onChange={(e) => onChangeInput(e, item?._id)}\n                    />\n                  </Grid>\n                  <Grid item xs={1.3} style={{ marginTop: \"10px\" }}>\n                    <b>{item?.qty * item?.price} </b>\n                  </Grid>\n                  <Grid item xs={1.7} style={{ textAlign: \"center\" }}>\n                    <Button\n                      variant=\"contained\"\n                      onClick={(e) => onDeleteItem(e, item?._id)}\n                      href=\"true\"\n                      // style={{ height: \"0px\" }}\n                    >\n                      Xóa\n                    </Button>\n                  </Grid>\n                </Grid>\n              </Box>\n            );\n          })}\n          <hr />\n          <Grid container spacing={2}>\n            <Grid item xs={9} style={{ textAlign: \"right\" }}>\n              <b>Tổng cộng:</b>\n            </Grid>\n            <Grid item xs={3}>\n              <b>\n                {carts?.reduce(\n                  (total, item) => total + item.qty * item.price,\n                  0\n                )}\n              </b>\n            </Grid>\n          </Grid>\n        </form>\n      </Box>\n      {/*\tEnd Cart\t*/}\n      {/*\tCustomer Info\t*/}\n      <div id=\"customer\">\n        <form method=\"post\">\n          <div className=\"row\">\n            <div id=\"customer-name\" className=\"col-lg-4 col-md-4 col-sm-12\">\n              <input\n                placeholder=\"Họ và tên (bắt buộc)\"\n                type=\"text\"\n                name=\"name\"\n                value={inputs?.name}\n                onChange={onChangeOrderInput}\n                className=\"form-control\"\n                required\n              />\n            </div>\n            <div id=\"customer-phone\" className=\"col-lg-4 col-md-4 col-sm-12\">\n              <input\n                placeholder=\"Số điện thoại (bắt buộc)\"\n                type=\"text\"\n                name=\"phone\"\n                value={inputs?.phone}\n                onChange={onChangeOrderInput}\n                className=\"form-control\"\n                required\n              />\n            </div>\n            <div id=\"customer-mail\" className=\"col-lg-4 col-md-4 col-sm-12\">\n              <input\n                placeholder=\"Email (bắt buộc)\"\n                type=\"text\"\n                name=\"email\"\n                value={inputs?.email}\n                onChange={onChangeOrderInput}\n                className=\"form-control\"\n                required\n              />\n            </div>\n            <div id=\"customer-add\" className=\"col-lg-12 col-md-12 col-sm-12\">\n              <input\n                placeholder=\"Địa chỉ nhà riêng hoặc cơ quan (bắt buộc)\"\n                type=\"text\"\n                name=\"address\"\n                value={inputs?.address}\n                onChange={onChangeOrderInput}\n                className=\"form-control\"\n                required\n              />\n            </div>\n          </div>\n        </form>\n        <div className=\"row\">\n          <div className=\"by-now col-lg-6 col-md-6 col-sm-12\">\n            <Button href=\"#\" onClick={onClickOrder}>\n              <b>Mua ngay</b>\n              {/* <span>Giao hàng tận nơi siêu tốc</span> */}\n            </Button>\n          </div>\n          <div className=\"by-now col-lg-6 col-md-6 col-sm-12\">\n            <Button href=\"#\" onClick={onClickOn}>\n              <b>Trả góp Online</b>\n              {/* <span>Vui lòng call (+84) 0988 550 553</span> */}\n            </Button>\n          </div>\n        </div>\n      </div>\n      {/*\tEnd Customer Info\t*/}\n    </div>\n  );\n};\n\nexport default CartPage;\n"]},"metadata":{},"sourceType":"module"}